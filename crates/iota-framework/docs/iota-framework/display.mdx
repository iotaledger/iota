---
title: Module `0x2::display`
---
import Link from '@docusaurus/Link';

<Link id="0x2_display"/>
Defines a Display struct which defines the way an Object
should be displayed. The intention is to keep data as independent
from its display as possible, protecting the development process
and keeping it separate from the ecosystem agreements.

Each of the fields of the Display object should allow for pattern
substitution and filling-in the pieces using the data from the object T.

More entry functions might be added in the future depending on the use cases.


-  [Resource `Display`](#0x2_display_Display)
-  [Struct `DisplayCreated`](#0x2_display_DisplayCreated)
-  [Struct `VersionUpdated`](#0x2_display_VersionUpdated)
-  [Constants](#@Constants_0)
-  [Function `new`](#0x2_display_new)
-  [Function `new_with_fields`](#0x2_display_new_with_fields)
-  [Function `create_and_keep`](#0x2_display_create_and_keep)
-  [Function `update_version`](#0x2_display_update_version)
-  [Function `add`](#0x2_display_add)
-  [Function `add_multiple`](#0x2_display_add_multiple)
-  [Function `edit`](#0x2_display_edit)
-  [Function `remove`](#0x2_display_remove)
-  [Function `is_authorized`](#0x2_display_is_authorized)
-  [Function `version`](#0x2_display_version)
-  [Function `fields`](#0x2_display_fields)
-  [Function `create_internal`](#0x2_display_create_internal)
-  [Function `add_internal`](#0x2_display_add_internal)


<pre><code>
<b>use</b> <Link href="../move-stdlib/string#0x1_string">0x1::string</Link>;
<b>use</b> <Link href="event#0x2_event">0x2::event</Link>;
<b>use</b> <Link href="object#0x2_object">0x2::object</Link>;
<b>use</b> <Link href="package#0x2_package">0x2::package</Link>;
<b>use</b> <Link href="transfer#0x2_transfer">0x2::transfer</Link>;
<b>use</b> <Link href="tx_context#0x2_tx_context">0x2::tx_context</Link>;
<b>use</b> <Link href="vec_map#0x2_vec_map">0x2::vec_map</Link>;
</code></pre>



<Link id="0x2_display_Display"></Link>

## Resource `Display`

The `Display<T>` object. Defines the way a T instance should be
displayed. Display object can only be created and modified with
a PublisherCap, making sure that the rules are set by the owner
of the type.

Each of the display properties should support patterns outside
of the system, making it simpler to customize Display based
on the property values of an Object.
```
// Example of a display object
Display<0x...::capy::Capy> {
fields:
<name, "Capy { genes }">
<link, "https://capy.art/capy/{ id }">
<image, "https://api.capy.art/capy/{ id }/svg">
<description, "Lovely Capy, one of many">
}
```

Uses only String type due to external-facing nature of the object,
the property names have a priority over their types.


<pre><code>
<b>struct</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T: key&gt; <b>has</b> store, key
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
id: <Link href="object#0x2_object_UID">object::UID</Link></code>
</dt>
<dd>

</dd>
<dt>
<code>
fields: <Link href="vec_map#0x2_vec_map_VecMap">vec_map::VecMap</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;</code>
</dt>
<dd>
 Contains fields for display. Currently supported
 fields are: name, link, image and description.
</dd>
<dt>
<code>
version: u16</code>
</dt>
<dd>
 Version that can only be updated manually by the Publisher.
</dd>
</dl>


</details>

<Link id="0x2_display_DisplayCreated"></Link>

## Struct `DisplayCreated`

Event: emitted when a new Display object has been created for type T.
Type signature of the event corresponds to the type while id serves for
the discovery.

Since Iota RPC supports querying events by type, finding a Display for the T
would be as simple as looking for the first event with <code>
<Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;</code>.


<pre><code>
<b>struct</b> <Link href="display#0x2_display_DisplayCreated">DisplayCreated</Link>&lt;T: key&gt; <b>has</b> <b>copy</b>, drop
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
id: <Link href="object#0x2_object_ID">object::ID</Link></code>
</dt>
<dd>

</dd>
</dl>


</details>

<Link id="0x2_display_VersionUpdated"></Link>

## Struct `VersionUpdated`

Version of Display got updated -


<pre><code>
<b>struct</b> <Link href="display#0x2_display_VersionUpdated">VersionUpdated</Link>&lt;T: key&gt; <b>has</b> <b>copy</b>, drop
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
id: <Link href="object#0x2_object_ID">object::ID</Link></code>
</dt>
<dd>

</dd>
<dt>
<code>
version: u16</code>
</dt>
<dd>

</dd>
<dt>
<code>
fields: <Link href="vec_map#0x2_vec_map_VecMap">vec_map::VecMap</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;</code>
</dt>
<dd>

</dd>
</dl>


</details>

<Link id="@Constants_0"></Link>

## Constants


<Link id="0x2_display_ENotOwner"></Link>

For when T does not belong to the package <code>
Publisher</code>.


<pre><code>
<b>const</b> <Link href="display#0x2_display_ENotOwner">ENotOwner</Link>: u64 = 0;
</code></pre>



<Link id="0x2_display_EVecLengthMismatch"></Link>

For when vectors passed into one of the multiple insert functions
don't match in their lengths.


<pre><code>
<b>const</b> <Link href="display#0x2_display_EVecLengthMismatch">EVecLengthMismatch</Link>: u64 = 1;
</code></pre>



<Link id="0x2_display_new"></Link>

## Function `new`

Create an empty Display object. It can either be shared empty or filled
with data right away via cheaper <code>
set_owned</code> method.


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_new">new</Link>&lt;T: key&gt;(pub: &<Link href="package#0x2_package_Publisher">package::Publisher</Link>, ctx: &<b>mut</b> <Link href="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>): <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_new">new</Link>&lt;T: key&gt;(pub: &Publisher, ctx: &<b>mut</b> TxContext): <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt; \{
    <b>assert</b>!(<Link href="display#0x2_display_is_authorized">is_authorized</Link>&lt;T&gt;(pub), <Link href="display#0x2_display_ENotOwner">ENotOwner</Link>);
    <Link href="display#0x2_display_create_internal">create_internal</Link>(ctx)
}
</code></pre>



</details>

<Link id="0x2_display_new_with_fields"></Link>

## Function `new_with_fields`

Create a new `Display<T>` object with a set of fields.


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_new_with_fields">new_with_fields</Link>&lt;T: key&gt;(pub: &<Link href="package#0x2_package_Publisher">package::Publisher</Link>, fields: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;, values: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;, ctx: &<b>mut</b> <Link href="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>): <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_new_with_fields">new_with_fields</Link>&lt;T: key&gt;(
    pub: &Publisher, fields: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;String&gt;, values: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;String&gt;, ctx: &<b>mut</b> TxContext
): <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt; \{
    <b>let</b> len = fields.length();
    <b>assert</b>!(len == values.length(), <Link href="display#0x2_display_EVecLengthMismatch">EVecLengthMismatch</Link>);

    <b>let</b> <b>mut</b> i = 0;
    <b>let</b> <b>mut</b> <Link href="display#0x2_display">display</Link> = <Link href="display#0x2_display_new">new</Link>&lt;T&gt;(pub, ctx);
    <b>while</b> (i &lt; len) \{
        <Link href="display#0x2_display">display</Link>.<Link href="display#0x2_display_add_internal">add_internal</Link>(fields[i], values[i]);
        i = i + 1;
    };

    <Link href="display#0x2_display">display</Link>
}
</code></pre>



</details>

<Link id="0x2_display_create_and_keep"></Link>

## Function `create_and_keep`

Create a new empty `Display<T>` object and keep it.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_create_and_keep">create_and_keep</Link>&lt;T: key&gt;(pub: &<Link href="package#0x2_package_Publisher">package::Publisher</Link>, ctx: &<b>mut</b> <Link href="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_create_and_keep">create_and_keep</Link>&lt;T: key&gt;(pub: &Publisher, ctx: &<b>mut</b> TxContext) \{
    <Link href="transfer#0x2_transfer_public_transfer">transfer::public_transfer</Link>(<Link href="display#0x2_display_new">new</Link>&lt;T&gt;(pub, ctx), ctx.sender())
}
</code></pre>



</details>

<Link id="0x2_display_update_version"></Link>

## Function `update_version`

Manually bump the version and emit an event with the updated version's contents.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_update_version">update_version</Link>&lt;T: key&gt;(<Link href="display#0x2_display">display</Link>: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_update_version">update_version</Link>&lt;T: key&gt;(
    <Link href="display#0x2_display">display</Link>: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;
) \{
    <Link href="display#0x2_display">display</Link>.version = <Link href="display#0x2_display">display</Link>.version + 1;
    <Link href="event#0x2_event_emit">event::emit</Link>(<Link href="display#0x2_display_VersionUpdated">VersionUpdated</Link>&lt;T&gt; \{
        version: <Link href="display#0x2_display">display</Link>.version,
        fields: *&<Link href="display#0x2_display">display</Link>.fields,
        id: <Link href="display#0x2_display">display</Link>.id.to_inner(),
    })
}
</code></pre>



</details>

<Link id="0x2_display_add"></Link>

## Function `add`

Sets a custom <code>
name</code> field with the <code>
value</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_add">add</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;, name: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, value: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_add">add</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;, name: String, value: String) \{
    self.<Link href="display#0x2_display_add_internal">add_internal</Link>(name, value)
}
</code></pre>



</details>

<Link id="0x2_display_add_multiple"></Link>

## Function `add_multiple`

Sets multiple <code>
fields</code> with <code>
values</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_add_multiple">add_multiple</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;, fields: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;, values: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_add_multiple">add_multiple</Link>&lt;T: key&gt;(
    self: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;, fields: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;String&gt;, values: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;String&gt;
) \{
    <b>let</b> len = fields.length();
    <b>assert</b>!(len == values.length(), <Link href="display#0x2_display_EVecLengthMismatch">EVecLengthMismatch</Link>);

    <b>let</b> <b>mut</b> i = 0;
    <b>while</b> (i &lt; len) \{
        self.<Link href="display#0x2_display_add_internal">add_internal</Link>(fields[i], values[i]);
        i = i + 1;
    };
}
</code></pre>



</details>

<Link id="0x2_display_edit"></Link>

## Function `edit`

Change the value of the field.
TODO (long run): version changes;


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_edit">edit</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;, name: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, value: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_edit">edit</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;, name: String, value: String) \{
    <b>let</b> (_, _) = self.fields.<Link href="display#0x2_display_remove">remove</Link>(&name);
    self.<Link href="display#0x2_display_add_internal">add_internal</Link>(name, value)
}
</code></pre>



</details>

<Link id="0x2_display_remove"></Link>

## Function `remove`

Remove the key from the Display.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="display#0x2_display_remove">remove</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;, name: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
entry <b>public</b> <b>fun</b> <Link href="display#0x2_display_remove">remove</Link>&lt;T: key&gt;(self: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;, name: String) \{
    self.fields.<Link href="display#0x2_display_remove">remove</Link>(&name);
}
</code></pre>



</details>

<Link id="0x2_display_is_authorized"></Link>

## Function `is_authorized`

Authorization check; can be performed externally to implement protection rules for Display.


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_is_authorized">is_authorized</Link>&lt;T: key&gt;(pub: &<Link href="package#0x2_package_Publisher">package::Publisher</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_is_authorized">is_authorized</Link>&lt;T: key&gt;(pub: &Publisher): bool \{
    pub.from_package&lt;T&gt;()
}
</code></pre>



</details>

<Link id="0x2_display_version"></Link>

## Function `version`

Read the <code>
version</code> field.


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_version">version</Link>&lt;T: key&gt;(d: &<Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;): u16
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_version">version</Link>&lt;T: key&gt;(d: &<Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;): u16 \{
    d.version
}
</code></pre>



</details>

<Link id="0x2_display_fields"></Link>

## Function `fields`

Read the <code>
fields</code> field.


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_fields">fields</Link>&lt;T: key&gt;(d: &<Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;): &<Link href="vec_map#0x2_vec_map_VecMap">vec_map::VecMap</Link>&lt;<Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>&gt;
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="display#0x2_display_fields">fields</Link>&lt;T: key&gt;(d: &<Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;): &VecMap&lt;String, String&gt; \{
    &d.fields
}
</code></pre>



</details>

<Link id="0x2_display_create_internal"></Link>

## Function `create_internal`

Internal function to create a new <code>
<Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;</code>.


<pre><code>
<b>fun</b> <Link href="display#0x2_display_create_internal">create_internal</Link>&lt;T: key&gt;(ctx: &<b>mut</b> <Link href="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>): <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>fun</b> <Link href="display#0x2_display_create_internal">create_internal</Link>&lt;T: key&gt;(ctx: &<b>mut</b> TxContext): <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt; \{
    <b>let</b> uid = <Link href="object#0x2_object_new">object::new</Link>(ctx);

    <Link href="event#0x2_event_emit">event::emit</Link>(<Link href="display#0x2_display_DisplayCreated">DisplayCreated</Link>&lt;T&gt; \{
        id: uid.to_inner()
    });

    <Link href="display#0x2_display_Display">Display</Link> \{
        id: uid,
        fields: <Link href="vec_map#0x2_vec_map_empty">vec_map::empty</Link>(),
        version: 0,
    }
}
</code></pre>



</details>

<Link id="0x2_display_add_internal"></Link>

## Function `add_internal`

Private method for inserting fields without security checks.


<pre><code>
<b>fun</b> <Link href="display#0x2_display_add_internal">add_internal</Link>&lt;T: key&gt;(<Link href="display#0x2_display">display</Link>: &<b>mut</b> <Link href="display#0x2_display_Display">display::Display</Link>&lt;T&gt;, name: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>, value: <Link href="../move-stdlib/string#0x1_string_String">string::String</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>fun</b> <Link href="display#0x2_display_add_internal">add_internal</Link>&lt;T: key&gt;(<Link href="display#0x2_display">display</Link>: &<b>mut</b> <Link href="display#0x2_display_Display">Display</Link>&lt;T&gt;, name: String, value: String) \{
    <Link href="display#0x2_display">display</Link>.fields.insert(name, value)
}
</code></pre>



</details>
