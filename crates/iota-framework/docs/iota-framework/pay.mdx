---
title: Module `0x2::pay`
---
import Link from '@docusaurus/Link';

This module provides handy functionality for wallets and <code>
iota::Coin</code> management.


-  [Constants](#@Constants_0)
-  [Function `keep`](#0x2_pay_keep)
-  [Function `split`](#0x2_pay_split)
-  [Function `split_vec`](#0x2_pay_split_vec)
-  [Function `split_and_transfer`](#0x2_pay_split_and_transfer)
-  [Function `divide_and_keep`](#0x2_pay_divide_and_keep)
-  [Function `join`](#0x2_pay_join)
-  [Function `join_vec`](#0x2_pay_join_vec)
-  [Function `join_vec_and_transfer`](#0x2_pay_join_vec_and_transfer)


<pre><code>
<b>use</b> <Link href="../iota-framework/coin#0x2_coin">0x2::coin</Link>;
<b>use</b> <Link href="../iota-framework/transfer#0x2_transfer">0x2::transfer</Link>;
<b>use</b> <Link href="../iota-framework/tx_context#0x2_tx_context">0x2::tx_context</Link>;
</code></pre>



<Link id="@Constants_0"></Link>

## Constants


<Link id="0x2_pay_ENoCoins"></Link>

For when empty vector is supplied into join function.


<pre><code>
<b>const</b> <Link href="../iota-framework/pay#0x2_pay_ENoCoins">ENoCoins</Link>: u64 = 0;
</code></pre>



<Link id="0x2_pay_keep"></Link>

## Function `keep`

Transfer <code>
c</code> to the sender of the current transaction


<pre><code>
<b>public</b> <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_keep">keep</Link>&lt;T&gt;(c: <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, ctx: &<Link href="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_keep">keep</Link>&lt;T&gt;(c: Coin&lt;T&gt;, ctx: &TxContext) \{
    <Link href="../iota-framework/transfer#0x2_transfer_public_transfer">transfer::public_transfer</Link>(c, ctx.sender())
}
</code></pre>



</details>

<Link id="0x2_pay_split"></Link>

## Function `split`

Split coin <code>
self</code> to two coins, one with balance <code>
split_amount</code>,
and the remaining balance is left is <code>
self</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split">split</Link>&lt;T&gt;(<Link href="../iota-framework/coin#0x2_coin">coin</Link>: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, split_amount: u64, ctx: &<b>mut</b> <Link href="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split">split</Link>&lt;T&gt;(
    <Link href="../iota-framework/coin#0x2_coin">coin</Link>: &<b>mut</b> Coin&lt;T&gt;, split_amount: u64, ctx: &<b>mut</b> TxContext
) \{
    <Link href="../iota-framework/pay#0x2_pay_keep">keep</Link>(<Link href="../iota-framework/coin#0x2_coin">coin</Link>.<Link href="../iota-framework/pay#0x2_pay_split">split</Link>(split_amount, ctx), ctx)
}
</code></pre>



</details>

<Link id="0x2_pay_split_vec"></Link>

## Function `split_vec`

Split coin <code>
self</code> into multiple coins, each with balance specified
in <code>
split_amounts</code>. Remaining balance is left in <code>
self</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split_vec">split_vec</Link>&lt;T&gt;(self: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, split_amounts: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;u64&gt;, ctx: &<b>mut</b> <Link href="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split_vec">split_vec</Link>&lt;T&gt;(
    self: &<b>mut</b> Coin&lt;T&gt;, split_amounts: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;u64&gt;, ctx: &<b>mut</b> TxContext
) \{
    <b>let</b> (<b>mut</b> i, len) = (0, split_amounts.length());
    <b>while</b> (i &lt; len) \{
        <Link href="../iota-framework/pay#0x2_pay_split">split</Link>(self, split_amounts[i], ctx);
        i = i + 1;
    };
}
</code></pre>



</details>

<Link id="0x2_pay_split_and_transfer"></Link>

## Function `split_and_transfer`

Send <code>
amount</code> units of <code>
c</code> to <code>
recipient</code>
Aborts with <code>
EVALUE</code> if <code>
amount</code> is greater than or equal to <code>
amount</code>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split_and_transfer">split_and_transfer</Link>&lt;T&gt;(c: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, amount: u64, recipient: <b>address</b>, ctx: &<b>mut</b> <Link href="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_split_and_transfer">split_and_transfer</Link>&lt;T&gt;(
    c: &<b>mut</b> Coin&lt;T&gt;, amount: u64, recipient: <b>address</b>, ctx: &<b>mut</b> TxContext
) \{
    <Link href="../iota-framework/transfer#0x2_transfer_public_transfer">transfer::public_transfer</Link>(c.<Link href="../iota-framework/pay#0x2_pay_split">split</Link>(amount, ctx), recipient)
}
</code></pre>



</details>

<Link id="0x2_pay_divide_and_keep"></Link>

## Function `divide_and_keep`

Divide coin <code>
self</code> into <code>
n - 1</code> coins with equal balances. If the balance is
not evenly divisible by <code>
n</code>, the remainder is left in <code>
self</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_divide_and_keep">divide_and_keep</Link>&lt;T&gt;(self: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, n: u64, ctx: &<b>mut</b> <Link href="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_divide_and_keep">divide_and_keep</Link>&lt;T&gt;(
    self: &<b>mut</b> Coin&lt;T&gt;, n: u64, ctx: &<b>mut</b> TxContext
) \{
    <b>let</b> <b>mut</b> vec: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;Coin&lt;T&gt;&gt; = self.divide_into_n(n, ctx);
    <b>let</b> (<b>mut</b> i, len) = (0, vec.length());
    <b>while</b> (i &lt; len) \{
        <Link href="../iota-framework/transfer#0x2_transfer_public_transfer">transfer::public_transfer</Link>(vec.pop_back(), ctx.sender());
        i = i + 1;
    };
    vec.destroy_empty();
}
</code></pre>



</details>

<Link id="0x2_pay_join"></Link>

## Function `join`

Join <code>
<Link href="../iota-framework/coin#0x2_coin">coin</Link></code> into <code>
self</code>. Re-exports <code>
<Link href="../iota-framework/coin#0x2_coin_join">coin::join</Link></code> function.
Deprecated: you should call <code>
<Link href="../iota-framework/coin#0x2_coin">coin</Link>.<Link href="../iota-framework/pay#0x2_pay_join">join</Link>(other)</code> directly.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join">join</Link>&lt;T&gt;(self: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, <Link href="../iota-framework/coin#0x2_coin">coin</Link>: <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join">join</Link>&lt;T&gt;(self: &<b>mut</b> Coin&lt;T&gt;, <Link href="../iota-framework/coin#0x2_coin">coin</Link>: Coin&lt;T&gt;) \{
    self.<Link href="../iota-framework/pay#0x2_pay_join">join</Link>(<Link href="../iota-framework/coin#0x2_coin">coin</Link>)
}
</code></pre>



</details>

<Link id="0x2_pay_join_vec"></Link>

## Function `join_vec`

Join everything in <code>
coins</code> with <code>
self</code>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join_vec">join_vec</Link>&lt;T&gt;(self: &<b>mut</b> <Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;, coins: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join_vec">join_vec</Link>&lt;T&gt;(self: &<b>mut</b> Coin&lt;T&gt;, <b>mut</b> coins: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;Coin&lt;T&gt;&gt;) \{
    <b>let</b> (<b>mut</b> i, len) = (0, coins.length());
    <b>while</b> (i &lt; len) \{
        <b>let</b> <Link href="../iota-framework/coin#0x2_coin">coin</Link> = coins.pop_back();
        self.<Link href="../iota-framework/pay#0x2_pay_join">join</Link>(<Link href="../iota-framework/coin#0x2_coin">coin</Link>);
        i = i + 1
    };
    // safe because we've drained the <Link href="../move-stdlib/vector#0x1_vector">vector</Link>
    coins.destroy_empty()
}
</code></pre>



</details>

<Link id="0x2_pay_join_vec_and_transfer"></Link>

## Function `join_vec_and_transfer`

Join a vector of <code>
Coin</code> into a single object and transfer it to <code>
receiver</code>.


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join_vec_and_transfer">join_vec_and_transfer</Link>&lt;T&gt;(coins: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;<Link href="../iota-framework/coin#0x2_coin_Coin">coin::Coin</Link>&lt;T&gt;&gt;, receiver: <b>address</b>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> entry <b>fun</b> <Link href="../iota-framework/pay#0x2_pay_join_vec_and_transfer">join_vec_and_transfer</Link>&lt;T&gt;(<b>mut</b> coins: <Link href="../move-stdlib/vector#0x1_vector">vector</Link>&lt;Coin&lt;T&gt;&gt;, receiver: <b>address</b>) \{
    <b>assert</b>!(coins.length() &gt; 0, <Link href="../iota-framework/pay#0x2_pay_ENoCoins">ENoCoins</Link>);

    <b>let</b> <b>mut</b> self = coins.pop_back();
    <Link href="../iota-framework/pay#0x2_pay_join_vec">join_vec</Link>(&<b>mut</b> self, coins);
    <Link href="../iota-framework/transfer#0x2_transfer_public_transfer">transfer::public_transfer</Link>(self, receiver)
}
</code></pre>



</details>
